<h1>Portafolios</h1>

<div class="actions" *ngIf="canWrite">
  <a class="btn" routerLink="/portafolios/new">+ Crear portafolio</a>
</div>

<p *ngIf="loading">Cargando...</p>
<p *ngIf="error" class="error">{{ error }}</p>

<div class="grid" *ngIf="!loading && !error">
  <div class="card" *ngFor="let p of items">
    <h3>{{ p.nombre }}</h3>
    <p class="desc">{{ p.descripcion || 'Sin descripcion' }}</p>

    <div class="card-actions">
      <a [routerLink]="['/portafolios', p.id]">Ver detalle</a>
      <button *ngIf="canWrite" type="button" (click)="deletePortafolio(p.id)" [disabled]="deletingId === p.id">
        {{ deletingId === p.id ? 'Eliminando...' : 'Eliminar' }}
      </button>
    </div>
  </div>

  <p *ngIf="items.length === 0">No hay portafolios todavia.</p>
</div>
