<h1>Nueva Posicion</h1>

<a [routerLink]="['/portafolios', portafolioId]">Volver</a>

<p *ngIf="loadingPaises">Cargando paises...</p>
<p *ngIf="error" class="error">{{ error }}</p>

<form *ngIf="!loadingPaises" (ngSubmit)="submit()" class="form">
  <label>
    Pais
    <select name="pais" [(ngModel)]="form.pais" required>
      <option *ngFor="let pais of paises" [ngValue]="pais.id">
        {{ pais.nombre }} ({{ pais.codigo_iso }})
      </option>
    </select>
  </label>

  <label>
    Activo
    <input name="activo" [(ngModel)]="form.activo" required />
  </label>

  <label>
    Ticker
    <input name="ticker" [(ngModel)]="form.ticker" />
  </label>

  <label>
    Tipo activo
    <select name="tipo_activo" [(ngModel)]="form.tipo_activo">
      <option value="ACCION">ACCION</option>
      <option value="BONO">BONO</option>
      <option value="ETF">ETF</option>
      <option value="CRYPTO">CRYPTO</option>
      <option value="OTRO">OTRO</option>
    </select>
  </label>

  <label>
    Moneda
    <input name="moneda" [(ngModel)]="form.moneda" maxlength="3" />
  </label>

  <label>
    Cantidad
    <input name="cantidad" type="number" step="0.0001" [(ngModel)]="form.cantidad" required />
  </label>

  <label>
    Precio unitario
    <input name="precio_unitario" type="number" step="0.0001" [(ngModel)]="form.precio_unitario" required />
  </label>

  <label>
    Peso porcentual
    <input name="peso_porcentual" type="number" step="0.01" [(ngModel)]="form.peso_porcentual" />
  </label>

  <button type="submit" [disabled]="loading">
    {{ loading ? 'Guardando...' : 'Guardar posicion' }}
  </button>
</form>
