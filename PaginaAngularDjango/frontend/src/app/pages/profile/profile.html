<h1>Mi perfil</h1>

<p *ngIf="loading">Cargando...</p>
<p *ngIf="error" class="error">{{ error }}</p>
<p *ngIf="success" class="success">{{ success }}</p>

<form *ngIf="!loading" [formGroup]="form" (ngSubmit)="submit()" class="profile-form">
  <label>
    Usuario
    <input type="text" formControlName="username" />
  </label>

  <label>
    Email
    <input type="email" formControlName="email" />
  </label>

  <label>
    Nombre
    <input type="text" formControlName="first_name" />
  </label>

  <label>
    Apellido
    <input type="text" formControlName="last_name" />
  </label>

  <button type="submit" [disabled]="saving">{{ saving ? 'Guardando...' : 'Guardar cambios' }}</button>
</form>
